<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé¨ Veo 3.1 Live Testing Interface</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            padding: 20px;
            color: white;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 16px;
            backdrop-filter: blur(10px);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1rem;
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .panel {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .panel h2 {
            margin-bottom: 20px;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            font-size: 0.95rem;
        }

        .form-group select,
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            background: rgba(0, 0, 0, 0.3);
            color: white;
            font-size: 1rem;
            font-family: inherit;
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        .form-group input::placeholder,
        .form-group textarea::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .quick-presets {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .preset-btn {
            padding: 10px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            background: rgba(0, 0, 0, 0.3);
            color: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .preset-btn:hover {
            border-color: #FFD700;
            background: rgba(255, 215, 0, 0.2);
        }

        .preset-btn.active {
            border-color: #FFD700;
            background: rgba(255, 215, 0, 0.3);
        }

        .generate-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            border: none;
            border-radius: 8px;
            color: #000;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .generate-btn:hover {
            transform: translateY(-2px);
        }

        .generate-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .cost-estimate {
            background: rgba(255, 215, 0, 0.2);
            border: 2px solid #FFD700;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
        }

        .cost-estimate .amount {
            font-size: 2rem;
            font-weight: bold;
            color: #FFD700;
        }

        .status-log {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 8px;
            padding: 15px;
            max-height: 300px;
            overflow-y: auto;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.9rem;
        }

        .status-log .log-entry {
            padding: 5px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .status-log .log-entry:last-child {
            border-bottom: none;
        }

        .status-log .timestamp {
            color: #888;
            margin-right: 10px;
        }

        .status-log .success {
            color: #00ff00;
        }

        .status-log .error {
            color: #ff4444;
        }

        .status-log .info {
            color: #4af2ff;
        }

        .video-result {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }

        .video-result.show {
            display: block;
        }

        .video-result video {
            width: 100%;
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .video-result .video-info {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }

        .video-result .info-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 10px;
            border-radius: 6px;
        }

        .video-result .info-label {
            font-size: 0.85rem;
            opacity: 0.7;
            margin-bottom: 5px;
        }

        .video-result .info-value {
            font-size: 1.1rem;
            font-weight: 600;
        }

        .video-url {
            background: rgba(0, 0, 0, 0.3);
            padding: 12px;
            border-radius: 6px;
            word-break: break-all;
            font-size: 0.85rem;
            margin-top: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .copy-btn {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            margin-top: 10px;
        }

        .copy-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .spinner {
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top: 3px solid #FFD700;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
            display: none;
        }

        .spinner.show {
            display: block;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @media (max-width: 1024px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üé¨ Veo 3.1 Live Testing Interface</h1>
            <p>Test Google Veo 3.1 video generation with real-time feedback</p>
        </div>

        <div class="main-grid">
            <!-- Left Panel: Configuration -->
            <div class="panel">
                <h2>‚öôÔ∏è Video Configuration</h2>

                <div class="form-group">
                    <label>Model</label>
                    <select id="model">
                        <option value="veo3.1">Veo 3.1 - Full Quality ($0.40/sec)</option>
                        <option value="veo3.1_fast">Veo 3.1 Fast - Half Price ($0.20/sec)</option>
                        <option value="veo3">Veo 3 - Classic ($0.40/sec)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Aspect Ratio (Platform)</label>
                    <select id="ratio">
                        <option value="1080:1920">1080:1920 - Instagram Reels/TikTok (Vertical)</option>
                        <option value="1280:720">1280:720 - Facebook/LinkedIn (Horizontal)</option>
                        <option value="1920:1080">1920:1080 - YouTube HD (Horizontal)</option>
                        <option value="720:1280">720:1280 - Instagram Stories (Vertical SD)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Duration (seconds)</label>
                    <select id="duration">
                        <option value="4">4 seconds - Quick alerts</option>
                        <option value="6" selected>6 seconds - Standard</option>
                        <option value="8">8 seconds - Extended</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Image URL (Optional seed for reproducibility)</label>
                    <input type="text" id="imageUrl" placeholder="https://example.com/image.jpg"
                           value="https://images.unsplash.com/photo-1554224155-8d04cb21cd6c?w=1920&h=1080&fit=crop">
                </div>

                <div class="form-group">
                    <label>Seed (Optional - for reproducible results)</label>
                    <input type="number" id="seed" placeholder="Leave empty for random">
                </div>

                <div class="cost-estimate">
                    <div style="font-size: 0.9rem; margin-bottom: 5px;">Estimated Cost</div>
                    <div class="amount" id="costAmount">$2.40</div>
                    <div style="font-size: 0.85rem; margin-top: 5px; opacity: 0.8;" id="costCredits">240 credits</div>
                </div>

                <h3 style="margin: 25px 0 15px 0;">üéØ Nano-Inspired Optimized Prompts</h3>
                <div style="background: rgba(255, 215, 0, 0.1); border: 2px solid rgba(255, 215, 0, 0.3); border-radius: 8px; padding: 12px; margin-bottom: 15px; font-size: 0.85rem;">
                    <strong>üí° Based on Nano's 100% text accuracy success</strong><br>
                    These prompts apply extreme specificity, structured containers, and letter-by-letter verification.
                </div>
                <div class="quick-presets">
                    <button class="preset-btn" onclick="loadPreset('nanoContainer')" style="border-color: #FFD700; background: rgba(255, 215, 0, 0.15);">
                        ‚≠ê Container-Based<br><span style="font-size: 0.75rem; opacity: 0.8;">(Most like Nano)</span>
                    </button>
                    <button class="preset-btn" onclick="loadPreset('nanoRepetitive')">
                        üîÅ Repetitive<br><span style="font-size: 0.75rem; opacity: 0.8;">(Reinforcement)</span>
                    </button>
                    <button class="preset-btn" onclick="loadPreset('nanoWordByWord')">
                        üìù Word-by-Word<br><span style="font-size: 0.75rem; opacity: 0.8;">(Explicit)</span>
                    </button>
                    <button class="preset-btn" onclick="loadPreset('nanoUltraExplicit')">
                        üî¨ Ultra-Explicit<br><span style="font-size: 0.75rem; opacity: 0.8;">(Letter-by-Letter)</span>
                    </button>
                </div>

                <h3 style="margin: 25px 0 15px 0;">üìù Quick Presets</h3>
                <div class="quick-presets">
                    <button class="preset-btn" onclick="loadPreset('rateAlert')">Rate Alert</button>
                    <button class="preset-btn" onclick="loadPreset('educational')">Educational</button>
                    <button class="preset-btn" onclick="loadPreset('testimonial')">Testimonial</button>
                    <button class="preset-btn" onclick="loadPreset('marketIntel')">Market Intel</button>
                    <button class="preset-btn" onclick="loadPreset('personal')">Personal Brand</button>
                    <button class="preset-btn" onclick="loadPreset('custom')">Custom</button>
                </div>

                <div class="form-group">
                    <label>Prompt (up to 1000 characters)</label>
                    <textarea id="prompt" maxlength="1000" placeholder="Enter your video generation prompt...">LENDWISE MORTGAGE gold metallic logo at top. Large bold white text displays "RATES DROPPED!" in center. Below shows "6.25%" in huge glowing gold numbers. Small text underneath: "30-Year Fixed". Background: dark navy blue gradient with floating gold sparkle particles. Smooth cinematic zoom pushing toward the 6.25% rate. Text stays perfectly sharp and static. Shallow depth of field with bokeh effects. Professional broadcast lighting. Premium financial news aesthetic.</textarea>
                    <div style="text-align: right; font-size: 0.85rem; opacity: 0.7; margin-top: 5px;">
                        <span id="charCount">0</span>/1000 characters
                    </div>
                </div>

                <button class="generate-btn" id="generateBtn" onclick="generateVideo()">
                    üé¨ Generate Video
                </button>
            </div>

            <!-- Right Panel: Results & Status -->
            <div class="panel">
                <h2>üìä Status & Results</h2>

                <div class="spinner" id="spinner"></div>

                <div class="status-log" id="statusLog">
                    <div class="log-entry">
                        <span class="timestamp">Ready</span>
                        <span class="info">Configure your video and click Generate</span>
                    </div>
                </div>

                <div class="video-result" id="videoResult">
                    <h3 style="margin-bottom: 15px;">‚úÖ Video Generated Successfully!</h3>

                    <video id="videoPlayer" controls></video>

                    <div class="video-info">
                        <div class="info-item">
                            <div class="info-label">Generation Time</div>
                            <div class="info-value" id="genTime">-</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Actual Cost</div>
                            <div class="info-value" id="actualCost">-</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Model Used</div>
                            <div class="info-value" id="modelUsed">-</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Resolution</div>
                            <div class="info-value" id="resolution">-</div>
                        </div>
                    </div>

                    <div style="margin-top: 15px;">
                        <strong>Video URL:</strong>
                        <div class="video-url" id="videoUrl"></div>
                        <button class="copy-btn" onclick="copyVideoUrl()">üìã Copy URL</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Presets - Nano-Inspired Optimized Prompts
        const presets = {
            // NANO-INSPIRED STRATEGY 1: CONTAINER-BASED (Most like Nano success)
            nanoContainer: `Professional financial video with STRUCTURED LAYOUT using THREE distinct visual containers:

CONTAINER 1 (Top third - Header):
Text to display: "LENDWISE MORTGAGE"
Word count: 2 words
Container style: Metallic gold border, dark background
Text must be: Crisp, sharp, perfectly readable
Letters: L-E-N-D-W-I-S-E M-O-R-T-G-A-G-E

CONTAINER 2 (Middle third - Main content):
Text to display: "RATES DROPPED 6.25%"
Word count: 3 words plus number
Container style: Metallic gold border, dark background
Text must be: Large, bold, perfectly centered
Letters: R-A-T-E-S D-R-O-P-P-E-D 6.25%

CONTAINER 3 (Bottom third - Footer):
Text to display: "30-Year Fixed Rate Lock Today"
Word count: 5 words
Container style: Metallic gold border, dark background
Text must be: Clean, professional, readable
Letters: 30-Y-E-A-R F-I-X-E-D R-A-T-E L-O-C-K T-O-D-A-Y

CRITICAL: Each word in each container must be spelled EXACTLY as written above. Use the word count as verification.

VISUAL EFFECTS:
- Background: Navy blue gradient
- Text color: Metallic gold
- Borders: Thin gold lines
- Camera: Smooth forward dolly
- Particles: Floating gold sparkles
- All text stays STATIC - only camera moves`,

            // STRATEGY 2: REPETITIVE REINFORCEMENT
            nanoRepetitive: `===== TEXT ACCURACY CRITICAL =====

This video must display the following text with 100% accuracy:

TEXT ELEMENT 1:
"LENDWISE MORTGAGE"
Spell check: LENDWISE MORTGAGE
Letter count: 16 letters
Word count: 2 words
Verification: LENDWISE | MORTGAGE

TEXT ELEMENT 2:
"RATES DROPPED"
Spell check: RATES DROPPED
Letter count: 12 letters
Word count: 2 words
Verification: RATES | DROPPED

TEXT ELEMENT 3:
"6.25%"
Spell check: 6.25%
Character count: 5 characters
Verification: 6 . 2 5 %

TEXT ELEMENT 4:
"30-Year Fixed"
Spell check: 30-YEAR FIXED
Letter count: 12 letters
Word count: 2 words
Verification: 30-YEAR | FIXED | F-I-X-E-D

===== REPEAT FOR EMPHASIS =====

The text elements listed above MUST appear EXACTLY as written.
NO variations. NO phonetic interpretations. NO substitutions.

VISUAL DESIGN:
- Background: Professional navy blue gradient
- Text styling: Metallic gold with subtle glow
- Layout: Vertically stacked, centered
- All text: Perfectly static and readable
- Camera: Smooth forward motion only`,

            // STRATEGY 3: WORD-BY-WORD SPECIFICATION
            nanoWordByWord: `TEXT GENERATION REQUIREMENT - SPELL EACH WORD EXACTLY:

Total words to display: 6

Word-by-word specification:
  Word 1: "30-Year" (7 characters: 3-0-dash-Y-e-a-r)
  Word 2: "Fixed" (5 letters: F-I-X-E-D)
  Word 3: "Rate" (4 letters: R-A-T-E)
  Word 4: "Available" (9 letters: A-V-A-I-L-A-B-L-E)
  Word 5: "Now" (3 letters: N-O-W)
  Word 6: "6.25%" (5 characters: 6-.-2-5-%)

COMPLETE PHRASE:
"30-Year Fixed Rate Available Now - 6.25%"

VERIFICATION: The phrase above contains 6 words/elements totaling 33 characters.

LAYOUT:
- Position: Center of frame
- Style: Large metallic gold text with glow
- Background: Dark navy blue gradient
- Text must remain: Perfectly static and sharp
- Camera movement: Smooth zoom toward text
- Effects: Floating gold particles

CRITICAL ACCURACY REQUIREMENT:
Every single word must match the spelling above EXACTLY. Cross-reference the letter-by-letter breakdown to ensure accuracy.`,

            // STRATEGY 4: ULTRA-EXPLICIT
            nanoUltraExplicit: `CRITICAL TEXT ACCURACY REQUIREMENT - EVERY WORD MUST BE SPELLED EXACTLY AS WRITTEN BELOW:

TEXT SECTION 1 (Top Center):
Display these exact words: "RATES DROPPED"
Spelling verification: Each word spelled letter by letter:
  - RATES: R-A-T-E-S
  - DROPPED: D-R-O-P-P-E-D

TEXT SECTION 2 (Below Section 1):
Display these exact words: "30-Year Fixed"
Spelling verification: Each word spelled letter by letter:
  - 30-Year: 3-0-DASH-Y-E-A-R
  - Fixed: F-I-X-E-D (ESPECIALLY CHECK: I before X, E before D)

VISUAL STYLING:
- Background: Dark navy blue gradient
- Text color: Metallic gold with glow effect
- All text must remain perfectly static and sharp
- Camera motion only (zoom toward center)
- Floating gold particles in background
- Professional broadcast lighting

ABSOLUTE REQUIREMENT: The words above must appear EXACTLY as spelled. No substitutions, no alterations, no phonetic interpretations.`,

            // ORIGINAL PRESETS
            rateAlert: `LENDWISE MORTGAGE gold metallic logo at top. Large bold white text displays "RATES DROPPED!" in center. Below shows "6.25%" in huge glowing gold numbers. Small text underneath: "30-Year Fixed" spelled correctly F-I-X-E-D. Background: dark navy blue gradient with floating gold sparkle particles. Smooth cinematic zoom pushing toward the 6.25% rate. Text stays perfectly sharp and static. Shallow depth of field with bokeh effects. Professional broadcast lighting. Premium financial news aesthetic.`,

            educational: `Educational mortgage content. LENDWISE MORTGAGE branding at top. Large bold text at center: "MYTH: You Need 20% Down". Below in contrasting style: "TRUTH: As Low As 3% Down". All text crystal clear and readable. Background: modern gradient from deep blue to purple. Animated light particles rising upward suggesting revelation. Text remains completely static and sharp. Gentle camera tilt upward with depth. Professional educational design. Apple keynote presentation aesthetic.`,

            testimonial: `Client success story. LENDWISE MORTGAGE gold branding subtle at top. Centered white text quote: "David helped us buy our dream home with only 5% down". Attribution below: "- The Johnsons, San Diego". All text perfectly crisp. Background: warm golden hour bokeh blur, suggesting home/happiness. Soft glowing light particles. Slow intimate camera push in toward text. Shallow depth of field creating warmth.`,

            marketIntel: `Premium market intelligence update. LENDWISE MORTGAGE gold logo top right. Main headline in bold white: "MARKET UPDATE: RATES TRENDING DOWN". Three data points displayed as clean white cards with gold accents: "30-Yr: 6.25%", "15-Yr: 5.75%", "FHA: 6.0%". All text ultra-sharp, crisp, perfectly readable. Background: sophisticated animated financial graph subtle in background, dark blue atmospheric. Smooth dolly camera push forward. Professional depth separation between text layers.`,

            personal: `Premium personal branding. LENDWISE MORTGAGE gold metallic branding center top. Main message: "Your Trusted Mortgage Expert" in elegant serif font. Subtext: "30+ Years Combined Experience". Bottom: "David Young | NMLS #12345". All text crystal clear, perfectly readable. Background: luxury real estate atmosphere, dark with gold accent lighting. Elegant subtle motion, slow confident camera movement. Professional yet approachable. Executive presentation quality.`,

            custom: ``
        };

        // Update character count
        document.getElementById('prompt').addEventListener('input', (e) => {
            document.getElementById('charCount').textContent = e.target.value.length;
        });

        // Update cost estimate
        function updateCostEstimate() {
            const model = document.getElementById('model').value;
            const duration = parseInt(document.getElementById('duration').value);

            const rates = {
                'veo3.1': 40,
                'veo3.1_fast': 20,
                'veo3': 40
            };

            const credits = duration * rates[model];
            const cost = credits * 0.01;

            document.getElementById('costAmount').textContent = `$${cost.toFixed(2)}`;
            document.getElementById('costCredits').textContent = `${credits} credits`;
        }

        // Load preset
        function loadPreset(type) {
            document.getElementById('prompt').value = presets[type] || '';
            document.getElementById('charCount').textContent = presets[type]?.length || 0;

            // Visual feedback
            document.querySelectorAll('.preset-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
        }

        // Log message
        function log(message, type = 'info') {
            const logDiv = document.getElementById('statusLog');
            const timestamp = new Date().toLocaleTimeString();
            const entry = document.createElement('div');
            entry.className = 'log-entry';
            entry.innerHTML = `<span class="timestamp">${timestamp}</span><span class="${type}">${message}</span>`;
            logDiv.appendChild(entry);
            logDiv.scrollTop = logDiv.scrollHeight;
        }

        // Copy video URL
        function copyVideoUrl() {
            const url = document.getElementById('videoUrl').textContent;
            navigator.clipboard.writeText(url).then(() => {
                alert('Video URL copied to clipboard!');
            });
        }

        // Generate video
        async function generateVideo() {
            const btn = document.getElementById('generateBtn');
            const spinner = document.getElementById('spinner');
            const resultDiv = document.getElementById('videoResult');

            // Get parameters
            const params = {
                model: document.getElementById('model').value,
                ratio: document.getElementById('ratio').value,
                duration: parseInt(document.getElementById('duration').value),
                imageUrl: document.getElementById('imageUrl').value,
                prompt: document.getElementById('prompt').value,
                seed: document.getElementById('seed').value ? parseInt(document.getElementById('seed').value) : undefined
            };

            // Validate
            if (!params.prompt.trim()) {
                alert('Please enter a prompt');
                return;
            }

            // UI updates
            btn.disabled = true;
            btn.textContent = '‚è≥ Generating...';
            spinner.classList.add('show');
            resultDiv.classList.remove('show');

            log('Starting video generation...', 'info');
            log(`Model: ${params.model}, Ratio: ${params.ratio}, Duration: ${params.duration}s`, 'info');

            const startTime = Date.now();

            try {
                const response = await fetch('/api/generate', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(params)
                });

                const result = await response.json();
                const elapsedTime = Math.round((Date.now() - startTime) / 1000);

                if (result.success) {
                    log(`‚úÖ Video generated successfully in ${elapsedTime}s!`, 'success');

                    // Show video
                    document.getElementById('videoPlayer').src = result.videoUrl;
                    document.getElementById('videoUrl').textContent = result.videoUrl;
                    document.getElementById('genTime').textContent = `${elapsedTime}s`;
                    document.getElementById('actualCost').textContent = `$${(params.duration * (params.model === 'veo3.1_fast' ? 20 : 40) * 0.01).toFixed(2)}`;
                    document.getElementById('modelUsed').textContent = params.model;
                    document.getElementById('resolution').textContent = params.ratio;

                    resultDiv.classList.add('show');
                } else {
                    log(`‚ùå Error: ${result.error}`, 'error');
                    alert(`Error: ${result.error}`);
                }

            } catch (error) {
                log(`‚ùå Exception: ${error.message}`, 'error');
                alert(`Error: ${error.message}`);
            } finally {
                btn.disabled = false;
                btn.textContent = 'üé¨ Generate Video';
                spinner.classList.remove('show');
            }
        }

        // Initialize
        document.getElementById('model').addEventListener('change', updateCostEstimate);
        document.getElementById('duration').addEventListener('change', updateCostEstimate);
        updateCostEstimate();
        document.getElementById('charCount').textContent = document.getElementById('prompt').value.length;
    </script>
</body>
</html>
